
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Website</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Basic CSS for the modals - you should have more in your styles.css */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">
            <a href="#">
                <img src="gjslogo.jpg" alt="GJ'S Beauty Lounge Logo">
            </a>
        </div>
        <div class="header-text">
            <h1>Nails, Facials, Brows, Lashes, Waxing, Gluta Spa <span>Clinic Hours: 9AM - 8PM</span></h1>
        </div>
        <nav>
            <ul>
                <li><a href="reviews.html">Reviews</a></li>
                <li><a href="faq.html">FAQ</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="#" id="loginLink">Login</a></li>
                <li><a href="#" id="registerLink">Register</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="hero-left">
                <img src="1st hp.jpg" alt="Left Image" class="boxed-image">
            </div>

            <div class="hero-center">
                <img src="book.png" alt="Center Image" class="circular-image">
            </div>
            <div class="hero-right">
                <img src="2ndhp.jpg" alt="Right Image" class="boxed-image">
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-section">
            <h3>More about Company</h3>
            <p>GJ's Beauty Lounge is dedicated to enhancing beauty and confidence through professional services, including
                nails, brows, lashes, waxing, and gluta spa treatments. With a commitment to quality and customer
                satisfaction, we create a relaxing space where clients can enjoy top-tier beauty care.</p>
        </div>
        <div class="footer-section">
            <h3>Keep Connected</h3>
            <div class="social-links">
                <a href="#" target="_blank"><i class="fab fa-facebook"></i> Facebook</a>
                <a href="#" target="_blank"><i class="fab fa-instagram"></i> Instagram</a>
            </div>
        </div>
        <div class="footer-section">
            <h3>Contact Information</h3>
            <p><i class="fas fa-map-marker-alt"></i> Lower Ground Floor, Nova Plaza Mall, Quirino Highway, Novaliches
                Proper, Quezon City</p>
            <p><i class="fas fa-phone"></i> 0962-847-2488</p>
            <p><i class="fas fa-envelope"></i> <a href="mailto:gjsbeautylounge@gmail.com">gjsbeautylounge@gmail.com</a></p>
        </div>
    </footer>

    <div id="registerModal" class="modal">
        <div class="modal-content register-modal-content">
            <span class="close-button register-close-button">&times;</span>
            <div class="modal-form-header">
                <img src="gjslogo.jpg" alt="GJ'S Logo" class="modal-form-logo">
                <h2 class="modal-form-title">Registration Form</h2>
            </div>
            <form id="registrationForm" class="modal-form-body">
                <div class="form-row">
                    <div class="form-group">
                        <label for="reg-lastname">Lastname:</label>
                        <input type="text" id="reg-lastname" name="lastname" placeholder="Lastname" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-firstname">Firstname:</label>
                        <input type="text" id="reg-firstname" name="firstname" placeholder="Firstname" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="reg-email">Email:</label>
                        <input type="email" id="reg-email" name="email" placeholder="example@gmail.com" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-contact">Contact No.:</label>
                        <input type="tel" id="reg-contact" name="contact" placeholder="+63 123 123 123" required>
                    </div>
                </div>
                <div class="form-group gender-group">
                    <label>Gender:</label>
                    <div class="radio-options">
                        <input type="radio" id="male" name="gender" value="male" required>
                        <label for="male">Male</label>
                        <input type="radio" id="female" name="gender" value="female">
                        <label for="female">Female</label>
                        <input type="radio" id="prefer-not" name="gender" value="prefer_not_say">
                        <label for="prefer-not">Prefer not to say</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="reg-username">Username:</label>
                    <input type="text" id="reg-username" name="username" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <label for="reg-password">Password:</label>
                    <input type="password" id="reg-password" name="password" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <label for="reg-confirm-password">Confirm Password:</label>
                    <input type="password" id="reg-confirm-password" name="confirm_password" placeholder="Password"
                        required>
                </div>

                <button type="submit">Register Now!</button>
                <p class="login-link">
                    Have already an account? <a href="#" id="switchToLogin">Login Here</a>
                </p>
            </form>
        </div>
    </div>

    <div id="loginModal" class="modal">
        <div class="modal-content login-modal-content">
            <span class="close-button login-close-button">&times;</span>
            <div class="modal-header login-modal-header">
                <img src="gjslogo.jpg" alt="GJ'S Logo" class="modal-form-logo">
                <h2 class="modal-form-title">Login Form</h2>
            </div>
            <div class="modal-form-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="login-email-user">Email/Username:</label>
                        <input type="text" id="login-email-user" name="email_username" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password:</label>
                        <input type="password" id="login-password" name="password" required>
                    </div>
                    <button type="submit">Login</button>
                    <p class="register-link">
                        Don't have an Account? <a href="#" id="switchToRegister">Register here</a>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <script type="module">
        // --- Modal Logic ---
        const loginLink = document.getElementById('loginLink');
        const registerLink = document.getElementById('registerLink');
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');
        const loginCloseButton = document.querySelector('.login-close-button');
        const registerCloseButton = document.querySelector('.register-close-button');
        const switchToRegister = document.getElementById('switchToRegister');
        const switchToLogin = document.getElementById('switchToLogin');

        function setupModalListeners() {
            if (loginLink && loginModal && registerLink && registerModal && loginCloseButton && registerCloseButton && switchToRegister && switchToLogin) {
                console.log("All modal elements found. Setting up listeners."); // Debug log

                loginLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log("Login link clicked."); // Debug log
                    loginModal.style.display = 'block';
                    registerModal.style.display = 'none';
                });

                registerLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log("Register link clicked."); // Debug log
                    registerModal.style.display = 'block';
                    loginModal.style.display = 'none';
                });

                loginCloseButton.addEventListener('click', () => {
                    console.log("Login modal close clicked."); // Debug log
                    loginModal.style.display = 'none';
                });

                registerCloseButton.addEventListener('click', () => {
                    console.log("Register modal close clicked."); // Debug log
                    registerModal.style.display = 'none';
                });

                window.addEventListener('click', (event) => {
                    if (event.target === loginModal) {
                        console.log("Clicked outside login modal."); // Debug log
                        loginModal.style.display = 'none';
                    }
                    if (event.target === registerModal) {
                        console.log("Clicked outside register modal."); // Debug log
                        registerModal.style.display = 'none';
                    }
                });

                switchToRegister.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log("Switch to register clicked."); // Debug log
                    registerModal.style.display = 'block';
                    loginModal.style.display = 'none';
                });

                switchToLogin.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log("Switch to login clicked."); // Debug log
                    loginModal.style.display = 'block';
                    registerModal.style.display = 'none';
                });
            } else {
                console.error("One or more modal elements not found.");
                console.log({ // Log all elements for inspection
                    loginLink,
                    registerLink,
                    loginModal,
                    registerModal,
                    loginCloseButton,
                    registerCloseButton,
                    switchToRegister,
                    switchToLogin
                });
            }
        }

        setupModalListeners();

        // --- Firebase Registration ---
        const registrationForm = document.getElementById('registrationForm');
        const lastnameInput = document.getElementById('reg-lastname');
        const firstnameInput = document.getElementById('reg-firstname');
        const emailInput = document.getElementById('reg-email');
        const contactInput = document.getElementById('reg-contact');
        const genderInputs = document.querySelectorAll('input[name="gender"]');
        const usernameInput = document.getElementById('reg-username');
        const passwordInput = document.getElementById('reg-password');
        const confirmPasswordInput = document.getElementById('reg-confirm-password');
        const registerButton = registrationForm?.querySelector('button[type="submit"]');

        // Import Firebase modules (assuming you have Firebase configured elsewhere)
        // import { initializeApp } from 'firebase/app';
        // import { getAuth, createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';
        // import { getFirestore, collection, doc, setDoc } from 'firebase/firestore';

        // Your Firebase configuration
        // const firebaseConfig = {
        //   apiKey: "YOUR_API_KEY",
        //   authDomain: "YOUR_AUTH_DOMAIN",
        //   projectId: "YOUR_PROJECT_ID",
        //   storageBucket: "YOUR_STORAGE_BUCKET",
        //   messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        //   appId: "YOUR_APP_ID"
        // };

        // const app = initializeApp(firebaseConfig);
        // const auth = getAuth(app);
        // const db = getFirestore(app);

        // Create message element if it doesn't exist
        let registerMessage = document.querySelector('.registration-message');
        if (!registerMessage) {
            registerMessage = document.createElement('p');
            registerMessage.classList.add('registration-message');
            // Insert the message right before the submit button
            registerButton?.insertAdjacentElement('beforebegin', registerMessage);
        }

        if (registrationForm) {
            registrationForm.addEventListener('submit', async (event) => {
                event.preventDefault();
                if (registerButton) {
                    registerButton.disabled = true;
                }

                // Clear previous messages
                registerMessage.textContent = "";
                registerMessage.className = 'registration-message';

                const selectedGender = [...genderInputs].find(input => input.checked)?.value || "";

                // --- Placeholder for Firebase Registration ---
                console.log("Registration data:", {
                    email: emailInput.value,
                    username: usernameInput.value,
                    firstname: firstnameInput.value,
                    lastname: lastnameInput.value,
                    contact: contactInput.value,
                    gender: selectedGender,
                    password: passwordInput.value,
                    confirm_password: confirmPasswordInput.value
                });
                alert("Registration functionality is not fully implemented in this code snippet.");

                // --- Uncomment the following block if you have Firebase configured ---
                /*
                try {
                    if (passwordInput.value !== confirmPasswordInput.value) {
                        registerMessage.textContent = "❌ Passwords do not match.";
                        registerMessage.className = 'registration-message error';
                        return;
                    }

                    const userCredential = await createUserWithEmailAndPassword(
                        auth,
                        emailInput.value,
                        passwordInput.value
                    );
                    const user = userCredential.user;

                    await setDoc(doc(collection(db, "users"), user.uid), {
                        email: emailInput.value,
                        username: usernameInput.value,
                        firstname: firstnameInput.value,
                        lastname: lastnameInput.value,
                        contact: contactInput.value,
                        gender: selectedGender,
                        createdAt: new Date()
                    });

                    // Success message
                    registerMessage.textContent = "✅ Registration successful! You can now login.";
                    registerMessage.className = 'registration-message success';

                    // Clear form after successful registration
                    registrationForm.reset();

                    // Optional: Auto-close modal after 3 seconds
                    setTimeout(() => {
                        registerModal.style.display = 'none';
                        // Reset message when modal closes
                        registerMessage.textContent = "";
                    }, 3000);

                } catch (error) {
                    console.error("Registration error:", error);

                    // Friendly error messages for common cases
                    let errorMessage = "Registration failed. ";
                    switch(error.code) {
                        case 'auth/email-already-in-use':
                            errorMessage += "This email is already registered.";
                            break;
                        case 'auth/weak-password':
                            errorMessage += "Password should be at least 6 characters.";
                            break;
                        case 'auth/invalid-email':
                            errorMessage += "Please enter a valid email address.";
                            break;
                        default:
                            errorMessage += "Please try again later.";
                    }

                    registerMessage.textContent = "❌ " + errorMessage;
                    registerMessage.className = 'registration-message error';
                } finally {
                    if (registerButton) {
                        registerButton.disabled = false;
                    }
                }
                */
